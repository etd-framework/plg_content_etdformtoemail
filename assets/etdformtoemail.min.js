+function(t){function e(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$element=t(i),this.init()}function i(i){return this.each(function(){var n=t(this),o=n.data("etd.formtoemail"),s="object"==typeof i&&i;o||n.data("etd.formtoemail",o=new e(this,s)),"string"==typeof i&&o[i]()})}e.DEFAULTS={i18n:{sending:"Submiting...",send:"Submit",thanks:"Thank you !",error:"An error has occured"}},e.prototype.init=function(){var e=this;this.$element.find('input[type="submit"], button[type="submit"], input[type="image"]').on("click",function(){e.$submitSource=t(this)}),this.$element.on("submit",function(i){i.preventDefault(),e.$submitSource&&e.$submitSource.prop("disabled",!0).text(e.options.i18n.sending);var n=e.$element.serializeArray();return t.post(e.$element.attr("action"),n).done(function(i){i.success?e.$submitSource&&(e.$submitSource.text(e.options.i18n.thanks),i.data[0].message&&t("<span>&nbsp;"+i.data[0].message+"</span>").insertAfter(e.$submitSource)):(alert(i.message),e.$submitSource&&e.$submitSource.prop("disabled",!1).text(e.options.i18n.send)),e.$submitSource=null}).fail(function(){alert(e.options.i18n.error),e.$submitSource&&e.$submitSource.prop("disabled",!1).text(e.options.i18n.send),e.$submitSource=null}),!1})},t(window).on("load.etd.formtoemail.data-api",function(){t('[data-etd="formtoemail"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery);